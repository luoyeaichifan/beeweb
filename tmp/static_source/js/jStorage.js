(function(){function C(){var a="{}";if("userDataBehavior"==e){d.load("jStorage");try{a=d.getAttribute("jStorage")}catch(b){}try{q=d.getAttribute("jStorage_update")}catch(b){}g.jStorage=a}D();x();E()}function u(){var a;clearTimeout(F);F=setTimeout(function(){if("localStorage"==e||"globalStorage"==e)a=g.jStorage_update;else if("userDataBehavior"==e){d.load("jStorage");try{a=d.getAttribute("jStorage_update")}catch(k){}}if(a&&a!=q){q=a;var b=n.parse(n.stringify(c.__jstorage_meta.CRC32));C();var l=n.parse(n.stringify(c.__jstorage_meta.CRC32));
var h,f=[],G=[];for(h in b)b.hasOwnProperty(h)&&(l[h]?b[h]!=l[h]&&"2."==String(b[h]).substr(0,2)&&f.push(h):G.push(h));for(h in l)l.hasOwnProperty(h)&&(b[h]||f.push(h));r(f,"updated");r(G,"deleted")}},25)}function r(a,b){a=[].concat(a||[]);if("flushed"==b){a=[];for(var c in m)m.hasOwnProperty(c)&&a.push(c);b="deleted"}c=0;for(var h=a.length;c<h;c++){if(m[a[c]])for(var f=0,d=m[a[c]].length;f<d;f++)m[a[c]][f](a[c],b);if(m["*"])for(f=0,d=m["*"].length;f<d;f++)m["*"][f](a[c],b)}}function v(){var a=(+new Date).toString();
if("localStorage"==e||"globalStorage"==e)try{g.jStorage_update=a}catch(b){e=!1}else"userDataBehavior"==e&&(d.setAttribute("jStorage_update",a),d.save("jStorage"));u()}function D(){if(g.jStorage)try{c=n.parse(String(g.jStorage))}catch(a){g.jStorage="{}"}else g.jStorage="{}";z=g.jStorage?String(g.jStorage).length:0;c.__jstorage_meta||(c.__jstorage_meta={});c.__jstorage_meta.CRC32||(c.__jstorage_meta.CRC32={})}function w(){if(c.__jstorage_meta.PubSub){for(var a=+new Date-2E3,b=0,l=c.__jstorage_meta.PubSub.length;b<
l;b++)if(c.__jstorage_meta.PubSub[b][0]<=a){c.__jstorage_meta.PubSub.splice(b,c.__jstorage_meta.PubSub.length-b);break}c.__jstorage_meta.PubSub.length||delete c.__jstorage_meta.PubSub}try{g.jStorage=n.stringify(c),d&&(d.setAttribute("jStorage",g.jStorage),d.save("jStorage")),z=g.jStorage?String(g.jStorage).length:0}catch(h){}}function p(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");
return!0}function x(){var a,b=Infinity,l=!1,h=[];clearTimeout(H);if(c.__jstorage_meta&&"object"==typeof c.__jstorage_meta.TTL){var f=+new Date;var d=c.__jstorage_meta.TTL;var k=c.__jstorage_meta.CRC32;for(a in d)d.hasOwnProperty(a)&&(d[a]<=f?(delete d[a],delete k[a],delete c[a],l=!0,h.push(a)):d[a]<b&&(b=d[a]));Infinity!=b&&(H=setTimeout(x,b-f));l&&(w(),v(),r(h,"deleted"))}}function E(){var a;if(c.__jstorage_meta.PubSub){var b=A;for(a=c.__jstorage_meta.PubSub.length-1;0<=a;a--){var d=c.__jstorage_meta.PubSub[a];
if(d[0]>A){b=d[0];var h=d[1];d=d[2];if(t[h])for(var f=0,g=t[h].length;f<g;f++)try{t[h][f](h,n.parse(n.stringify(d)))}catch(k){}}}A=b}}var y=window.jQuery||window.$||(window.$={}),n={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||y.parseJSON||y.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||y.toJSON};if(!("parse"in n&&"stringify"in n))throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");
var c={__jstorage_meta:{CRC32:{}}},g={jStorage:"{}"},d=null,z=0,e=!1,m={},F=!1,q=0,t={},A=+new Date,H,B={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(l){}}return!1},decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async=
"false";b.loadXML(a);return b};if(!b)return!1;a=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}};y.jStorage={version:"0.4.5",set:function(a,b,d){p(a);d=d||{};if("undefined"==typeof b)return this.deleteKey(a),b;if(B.isXML(b))b={_is_xml:!0,xml:B.encode(b)};else{if("function"==typeof b)return;b&&"object"==typeof b&&(b=n.parse(n.stringify(b)))}c[a]=b;for(var h=c.__jstorage_meta.CRC32,f=n.stringify(b),g=f.length,k=2538058380^g,l=0,e;4<=g;)e=f.charCodeAt(l)&255|
(f.charCodeAt(++l)&255)<<8|(f.charCodeAt(++l)&255)<<16|(f.charCodeAt(++l)&255)<<24,e=1540483477*(e&65535)+((1540483477*(e>>>16)&65535)<<16),e^=e>>>24,e=1540483477*(e&65535)+((1540483477*(e>>>16)&65535)<<16),k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16)^e,g-=4,++l;switch(g){case 3:k^=(f.charCodeAt(l+2)&255)<<16;case 2:k^=(f.charCodeAt(l+1)&255)<<8;case 1:k^=f.charCodeAt(l)&255,k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16)}k^=k>>>13;k=1540483477*(k&65535)+((1540483477*(k>>>16)&
65535)<<16);h[a]="2."+((k^k>>>15)>>>0);this.setTTL(a,d.TTL||0);r(a,"updated");return b},get:function(a,b){p(a);return a in c?c[a]&&"object"==typeof c[a]&&c[a]._is_xml?B.decode(c[a].xml):c[a]:"undefined"==typeof b?null:b},deleteKey:function(a){p(a);return a in c?(delete c[a],"object"==typeof c.__jstorage_meta.TTL&&a in c.__jstorage_meta.TTL&&delete c.__jstorage_meta.TTL[a],delete c.__jstorage_meta.CRC32[a],w(),v(),r(a,"deleted"),!0):!1},setTTL:function(a,b){var d=+new Date;p(a);b=Number(b)||0;return a in
c?(c.__jstorage_meta.TTL||(c.__jstorage_meta.TTL={}),0<b?c.__jstorage_meta.TTL[a]=d+b:delete c.__jstorage_meta.TTL[a],w(),x(),v(),!0):!1},getTTL:function(a){var b=+new Date;p(a);return a in c&&c.__jstorage_meta.TTL&&c.__jstorage_meta.TTL[a]?(a=c.__jstorage_meta.TTL[a]-b)||0:0},flush:function(){c={__jstorage_meta:{CRC32:{}}};w();v();r(null,"flushed");return!0},storageObj:function(){function a(){}a.prototype=c;return new a},index:function(){var a=[],b;for(b in c)c.hasOwnProperty(b)&&"__jstorage_meta"!=
b&&a.push(b);return a},storageSize:function(){return z},currentBackend:function(){return e},storageAvailable:function(){return!!e},listenKeyChange:function(a,b){p(a);m[a]||(m[a]=[]);m[a].push(b)},stopListening:function(a,b){p(a);if(m[a])if(b)for(var c=m[a].length-1;0<=c;c--)m[a][c]==b&&m[a].splice(c,1);else delete m[a]},subscribe:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");t[a]||(t[a]=[]);t[a].push(b)},publish:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");
c.__jstorage_meta||(c.__jstorage_meta={});c.__jstorage_meta.PubSub||(c.__jstorage_meta.PubSub=[]);c.__jstorage_meta.PubSub.unshift([+new Date,a,b]);w();v()},reInit:function(){C()}};(function(){var a=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),a=!0,window.localStorage.removeItem("_tmptest")}catch(b){}if(a)try{window.localStorage&&(g=window.localStorage,e="localStorage",q=g.jStorage_update)}catch(b){}else if("globalStorage"in window)try{window.globalStorage&&(g=
"localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],e="globalStorage",q=g.jStorage_update)}catch(b){}else if(d=document.createElement("link"),d.addBehavior){d.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(d);try{d.load("jStorage")}catch(b){d.setAttribute("jStorage","{}"),d.save("jStorage"),d.load("jStorage")}a="{}";try{a=d.getAttribute("jStorage")}catch(b){}try{q=d.getAttribute("jStorage_update")}catch(b){}g.jStorage=
a;e="userDataBehavior"}else{d=null;return}D();x();"localStorage"==e||"globalStorage"==e?"addEventListener"in window?window.addEventListener("storage",u,!1):document.attachEvent("onstorage",u):"userDataBehavior"==e&&setInterval(u,1E3);E();"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&u()},!1)})()})();
